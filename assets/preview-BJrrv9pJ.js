import{ImplicitActionsDuringRendering as e,v4_default as t}from"./preview-errors-Dwjpnz8h.js";import"./esm-D-grMb2I.js";const{addons:n}=__STORYBOOK_MODULE_PREVIEW_API__,{global:r}=__STORYBOOK_MODULE_GLOBAL__;var i=`storybook/actions`,a=`${i}/action-event`,o={depth:10,clearOnStoryChange:!0,limit:50},s=(e,t)=>{let n=Object.getPrototypeOf(e);return!n||t(n)?n:s(n,t)},c=e=>!!(typeof e==`object`&&e&&s(e,e=>/^Synthetic(?:Base)?Event$/.test(e.constructor.name))&&typeof e.persist==`function`),l=e=>{if(c(e)){let t=Object.create(e.constructor.prototype,Object.getOwnPropertyDescriptors(e));t.persist();let n=Object.getOwnPropertyDescriptor(t,`view`),r=n?.value;return typeof r==`object`&&r?.constructor.name===`Window`&&Object.defineProperty(t,`view`,{...n,value:Object.create(r.constructor.prototype)}),t}return e},u=()=>typeof crypto==`object`&&typeof crypto.getRandomValues==`function`?t():Date.now().toString(36)+Math.random().toString(36).substring(2);function d(t,i={}){let s={...o,...i},c=function(...o){if(i.implicit){var c;let n=(c=`__STORYBOOK_PREVIEW__`in r?r.__STORYBOOK_PREVIEW__:void 0)?.storyRenders.find(e=>e.phase===`playing`||e.phase===`rendering`);if(n){var d;let r=!(!((d=window)==null||(d=d.FEATURES)==null)&&d.disallowImplicitActionsInRenderV8),i=new e({phase:n.phase,name:t,deprecated:r});if(r)console.warn(i);else throw i}}let f=n.getChannel(),p=u(),m=5,h=o.map(l),g=o.length>1?h:h[0],_={id:p,count:0,data:{name:t,args:g},options:{...s,maxDepth:m+(s.depth||3),allowFunction:s.allowFunction||!1}};f.emit(a,_)};return c.isAction=!0,c}var f=(e,t)=>typeof t[e]>`u`&&!(e in t),p=e=>{let{initialArgs:t,argTypes:n,id:r,parameters:{actions:i}}=e;if(!i||i.disable||!i.argTypesRegex||!n)return{};let a=new RegExp(i.argTypesRegex);return Object.entries(n).filter(([e])=>!!a.test(e)).reduce((e,[n,i])=>(f(n,t)&&(e[n]=d(n,{implicit:!0,id:r})),e),{})},m=e=>{let{initialArgs:t,argTypes:n,parameters:{actions:r}}=e;return r?.disable||!n?{}:Object.entries(n).filter(([e,t])=>!!t.action).reduce((e,[n,r])=>(f(n,t)&&(e[n]=d(typeof r.action==`string`?r.action:n)),e),{})},h=[m,p],g=e=>{let{args:t,parameters:{actions:n}}=e;n?.disable||Object.entries(t).filter(([,e])=>typeof e==`function`&&`_isMockFunction`in e&&e._isMockFunction).forEach(([e,t])=>{let n=t.getMockImplementation();if(n?._actionAttached!==!0&&n?.isAction!==!0){let r=(...t)=>(d(e)(...t),n?.(...t));r._actionAttached=!0,t.mockImplementation(r)}})},_=[g];export{h as argsEnhancers,_ as loaders};