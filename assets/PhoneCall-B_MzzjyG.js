import{__toESM as e}from"./chunk-D3B-zxXs.js";import{require_react as t}from"./react-NX0r4bef.js";import{Button as n,Flex as r,Fragment as i,Icon as a,Modal as o,ModalBody as s,ModalCloseButton as c,ModalContent as l,ModalFooter as ee,ModalHeader as u,ModalOverlay as d,StackDivider as f,VStack as p,jsx as m,jsxs as h}from"./jsx-runtime--pC3LNoF.js";function g(){}async function _(e){let t=await e.json();if(e.ok)return t;throw console.error(t),Error(t.detail)}async function v(e,t){for(let[n,r]of Object.entries(t))e.searchParams.set(n,String(r));let n={Accept:`application/json`,"Cache-Control":`no-cache`};e.host.includes(`ngrok`)&&(n[`ngrok-skip-browser-warning`]=`1`);let r=await fetch(e,{method:`GET`,headers:n});return _(r)}async function y(e,t){let n={Accept:`application/json`,"Content-Type":`application/json`},r=await fetch(e,{method:`POST`,headers:n,body:JSON.stringify(t)});return _(r)}function b(e){switch(e){case`busy`:case`canceled`:case`failed`:case`no-answer`:return!0;default:return!1}}function x(e){return e===`completed`?!0:b(e)}async function S(e,t){let n={activist_number:t.activist.phone,target_number:t.input.custom_fields.target.phone,widget_id:t.widget_id};return y(new URL(`/phone/call`,e),n)}async function C(e,t){return v(new URL(`/phone/status`,e),{call:t})}function w(e){return async function(t,n){let{call:r,status:i}=await S(e,t);n(i);let a=window.setInterval(async()=>{let{status:t}=await C(e,r);n(t),x(t)&&clearInterval(a)},2e3)}}const T=w(`http://localhost:8000`);var E=e(t(),1),D={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},O=E.createContext&&E.createContext(D),k=[`attr`,`size`,`title`];function A(e,t){if(e==null)return{};var n=j(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function j(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function M(){return M=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},M.apply(this,arguments)}function N(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]==null?{}:arguments[t];t%2?N(Object(n),!0).forEach(function(t){te(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function te(e,t,n){return t=ne(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ne(e){var t=re(e,`string`);return typeof t==`symbol`?t:t+``}function re(e,t){if(typeof e!=`object`||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||`default`);if(typeof r!=`object`)return r;throw TypeError(`@@toPrimitive must return a primitive value.`)}return(t===`string`?String:Number)(e)}function F(e){return e&&e.map((e,t)=>E.createElement(e.tag,P({key:t},e.attr),F(e.child)))}function I(e){return t=>E.createElement(ie,M({attr:P({},e.attr)},t),F(e.child))}function ie(e){var t=t=>{var{attr:n,size:r,title:i}=e,a=A(e,k),o=r||t.size||`1em`,s;return t.className&&(s=t.className),e.className&&(s=(s?s+` `:``)+e.className),E.createElement(`svg`,M({stroke:`currentColor`,fill:`currentColor`,strokeWidth:`0`},t.attr,n,a,{className:s,style:P(P({color:e.color||t.color},t.style),e.style),height:o,width:o,xmlns:`http://www.w3.org/2000/svg`}),i&&E.createElement(`title`,null,i),e.children)};return O===void 0?t(D):E.createElement(O.Consumer,null,e=>t(e))}function ae(e){return I({tag:`svg`,attr:{fill:`currentColor`,viewBox:`0 0 16 16`},child:[{tag:`path`,attr:{fillRule:`evenodd`,d:`M1 8a.5.5 0 0 1 .5-.5h11.793l-3.147-3.146a.5.5 0 0 1 .708-.708l4 4a.5.5 0 0 1 0 .708l-4 4a.5.5 0 0 1-.708-.708L13.293 8.5H1.5A.5.5 0 0 1 1 8`},child:[]}]})(e)}function oe(e){return I({tag:`svg`,attr:{fill:`currentColor`,viewBox:`0 0 16 16`},child:[{tag:`path`,attr:{d:`M12.736 3.97a.733.733 0 0 1 1.047 0c.286.289.29.756.01 1.05L7.88 12.01a.733.733 0 0 1-1.065.02L3.217 8.384a.757.757 0 0 1 0-1.06.733.733 0 0 1 1.047 0l3.052 3.093 5.4-6.425z`},child:[]}]})(e)}function L(e){return I({tag:`svg`,attr:{fill:`currentColor`,viewBox:`0 0 16 16`},child:[{tag:`path`,attr:{d:`M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14m0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16`},child:[]},{tag:`path`,attr:{d:`m8.93 6.588-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533zM9 4.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0`},child:[]}]})(e)}function se(e){return I({tag:`svg`,attr:{fill:`currentColor`,viewBox:`0 0 16 16`},child:[{tag:`path`,attr:{d:`M13 2.5a1.5 1.5 0 0 1 3 0v11a1.5 1.5 0 0 1-3 0zm-1 .724c-2.067.95-4.539 1.481-7 1.656v6.237a25 25 0 0 1 1.088.085c2.053.204 4.038.668 5.912 1.56zm-8 7.841V4.934c-.68.027-1.399.043-2.008.053A2.02 2.02 0 0 0 0 7v2c0 1.106.896 1.996 1.994 2.009l.496.008a64 64 0 0 1 1.51.048m1.39 1.081q.428.032.85.078l.253 1.69a1 1 0 0 1-.983 1.187h-.548a1 1 0 0 1-.916-.599l-1.314-2.48a66 66 0 0 1 1.692.064q.491.026.966.06`},child:[]}]})(e)}function ce(e){return I({tag:`svg`,attr:{fill:`currentColor`,viewBox:`0 0 16 16`},child:[{tag:`path`,attr:{d:`M15.502 1.94a.5.5 0 0 1 0 .706L14.459 3.69l-2-2L13.502.646a.5.5 0 0 1 .707 0l1.293 1.293zm-1.75 2.456-2-2L4.939 9.21a.5.5 0 0 0-.121.196l-.805 2.414a.25.25 0 0 0 .316.316l2.414-.805a.5.5 0 0 0 .196-.12l6.813-6.814z`},child:[]},{tag:`path`,attr:{fillRule:`evenodd`,d:`M1 13.5A1.5 1.5 0 0 0 2.5 15h11a1.5 1.5 0 0 0 1.5-1.5v-6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5v-11a.5.5 0 0 1 .5-.5H9a.5.5 0 0 0 0-1H2.5A1.5 1.5 0 0 0 1 2.5z`},child:[]}]})(e)}function le(e){return I({tag:`svg`,attr:{fill:`currentColor`,viewBox:`0 0 16 16`},child:[{tag:`path`,attr:{d:`M7 14s-1 0-1-1 1-4 5-4 5 3 5 4-1 1-1 1zm4-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6m-5.784 6A2.24 2.24 0 0 1 5 13c0-1.355.68-2.75 1.936-3.72A6.3 6.3 0 0 0 5 9c-4 0-5 3-5 4s1 1 1 1zM4.5 8a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5`},child:[]}]})(e)}function R(e){return I({tag:`svg`,attr:{fill:`currentColor`,viewBox:`0 0 16 16`},child:[{tag:`path`,attr:{fillRule:`evenodd`,d:`M1.885.511a1.745 1.745 0 0 1 2.61.163L6.29 2.98c.329.423.445.974.315 1.494l-.547 2.19a.68.68 0 0 0 .178.643l2.457 2.457a.68.68 0 0 0 .644.178l2.189-.547a1.75 1.75 0 0 1 1.494.315l2.306 1.794c.829.645.905 1.87.163 2.611l-1.034 1.034c-.74.74-1.846 1.065-2.877.702a18.6 18.6 0 0 1-7.01-4.42 18.6 18.6 0 0 1-4.42-7.009c-.362-1.03-.037-2.137.703-2.877z`},child:[]}]})(e)}function z(e){return I({tag:`svg`,attr:{fill:`currentColor`,viewBox:`0 0 16 16`},child:[{tag:`path`,attr:{fillRule:`evenodd`,d:`M1.885.511a1.745 1.745 0 0 1 2.61.163L6.29 2.98c.329.423.445.974.315 1.494l-.547 2.19a.68.68 0 0 0 .178.643l2.457 2.457a.68.68 0 0 0 .644.178l2.189-.547a1.75 1.75 0 0 1 1.494.315l2.306 1.794c.829.645.905 1.87.163 2.611l-1.034 1.034c-.74.74-1.846 1.065-2.877.702a18.6 18.6 0 0 1-7.01-4.42 18.6 18.6 0 0 1-4.42-7.009c-.362-1.03-.037-2.137.703-2.877zm9.261 1.135a.5.5 0 0 1 .708 0L13 2.793l1.146-1.147a.5.5 0 0 1 .708.708L13.707 3.5l1.147 1.146a.5.5 0 0 1-.708.708L13 4.207l-1.146 1.147a.5.5 0 0 1-.708-.708L12.293 3.5l-1.147-1.146a.5.5 0 0 1 0-.708`},child:[]}]})(e)}function B({icon:e,iconColor:t,title:n}){return m(u,{children:h(r,{align:`center`,gap:2,children:[m(a,{as:e,boxSize:6,color:t}),m(`span`,{children:n})]})})}try{B.displayName=`ModalHeader`,B.__docgenInfo={description:``,displayName:`ModalHeader`,props:{icon:{defaultValue:null,description:``,name:`icon`,required:!0,type:{name:`IconType`}},iconColor:{defaultValue:null,description:``,name:`iconColor`,required:!0,type:{name:`string`}},title:{defaultValue:null,description:``,name:`title`,required:!0,type:{name:`string`}}}}}catch{}function V({brandColor:e,linkColor:t,target:a,onShare:o}){return h(i,{children:[m(B,{icon:z,iconColor:e,title:`A linha estava ocupada`}),m(c,{}),m(s,{children:h(p,{divider:m(f,{}),children:[m(`p`,{children:`Não conseguimos completar a ligação porque o número de ${a.name} estava ocupado. Aguarde alguns minutos e tente de novo clicão no botão abaixo.`}),h(r,{align:`center`,gap:2,children:[m(L,{}),h(`p`,{children:[`Se continuar ocupado, uma boa alternativa é `,m(n,{color:t,type:`button`,variant:`link`,onClick:o,children:`compartilhar a campanha`}),`.`]})]})]})})]})}try{V.displayName=`BusyCall`,V.__docgenInfo={description:``,displayName:`BusyCall`,props:{activist:{defaultValue:null,description:``,name:`activist`,required:!0,type:{name:`{ name: string; email: string; phone: string; }`}},brandColor:{defaultValue:null,description:``,name:`brandColor`,required:!0,type:{name:`string`}},guideline:{defaultValue:null,description:``,name:`guideline`,required:!0,type:{name:`string`}},linkColor:{defaultValue:null,description:``,name:`linkColor`,required:!0,type:{name:`string`}},postActionHtml:{defaultValue:null,description:``,name:`postActionHtml`,required:!0,type:{name:`string`}},target:{defaultValue:null,description:``,name:`target`,required:!0,type:{name:`PhoneTarget`}},onDismiss:{defaultValue:null,description:``,name:`onDismiss`,required:!0,type:{name:`() => void`}},onShare:{defaultValue:null,description:``,name:`onShare`,required:!0,type:{name:`() => void`}}}}}catch{}function H({activist:e,brandColor:t,linkColor:a,onDismiss:o}){return h(i,{children:[m(B,{icon:z,iconColor:t,title:`A chamada não foi completada`}),m(c,{}),m(s,{children:h(p,{divider:m(f,{}),children:[m(`p`,{children:`A ligação foi interrompida — isso pode ter acontecido por instabilidade na rede ou encerramento da chamada. Mas tudo bem, você pode tentar novamente.`}),h(r,{align:`center`,gap:4,justify:`start`,children:[m(`p`,{children:`Número informado: +55 ${e.phone}`}),m(n,{color:a,leftIcon:m(ce,{}),type:`button`,variant:`link`,onClick:o,children:`Alterar número`})]}),m(`p`,{children:`Se estiver tudo certo, é só clicar no botão abaixo e ficar de olho no celular!`})]})})]})}try{H.displayName=`CanceledCall`,H.__docgenInfo={description:``,displayName:`CanceledCall`,props:{activist:{defaultValue:null,description:``,name:`activist`,required:!0,type:{name:`{ name: string; email: string; phone: string; }`}},brandColor:{defaultValue:null,description:``,name:`brandColor`,required:!0,type:{name:`string`}},guideline:{defaultValue:null,description:``,name:`guideline`,required:!0,type:{name:`string`}},linkColor:{defaultValue:null,description:``,name:`linkColor`,required:!0,type:{name:`string`}},postActionHtml:{defaultValue:null,description:``,name:`postActionHtml`,required:!0,type:{name:`string`}},target:{defaultValue:null,description:``,name:`target`,required:!0,type:{name:`PhoneTarget`}},onDismiss:{defaultValue:null,description:``,name:`onDismiss`,required:!0,type:{name:`() => void`}},onShare:{defaultValue:null,description:``,name:`onShare`,required:!0,type:{name:`() => void`}}}}}catch{}function U({html:e}){return m(`div`,{className:`bonde-phone-call__post-action`,dangerouslySetInnerHTML:{__html:e}})}try{U.displayName=`PostAction`,U.__docgenInfo={description:``,displayName:`PostAction`,props:{html:{defaultValue:null,description:``,name:`html`,required:!0,type:{name:`string`}}}}}catch{}function W({brandColor:e,postActionHtml:t}){return h(i,{children:[m(B,{icon:oe,iconColor:e,title:`Ligação realizada com sucesso!`}),m(c,{}),m(s,{children:h(p,{divider:m(f,{}),children:[m(`p`,{children:`Obrigada por participar! Essa ligação ajuda a pressionar por uma resposta e mostrar que esse tema importa.`}),h(p,{children:[m(`p`,{children:`Compartilhe a campanha com mais pessoas para aumentar o impacto:`}),m(U,{html:t})]})]})})]})}try{W.displayName=`CompletedCall`,W.__docgenInfo={description:``,displayName:`CompletedCall`,props:{activist:{defaultValue:null,description:``,name:`activist`,required:!0,type:{name:`{ name: string; email: string; phone: string; }`}},brandColor:{defaultValue:null,description:``,name:`brandColor`,required:!0,type:{name:`string`}},guideline:{defaultValue:null,description:``,name:`guideline`,required:!0,type:{name:`string`}},linkColor:{defaultValue:null,description:``,name:`linkColor`,required:!0,type:{name:`string`}},postActionHtml:{defaultValue:null,description:``,name:`postActionHtml`,required:!0,type:{name:`string`}},target:{defaultValue:null,description:``,name:`target`,required:!0,type:{name:`PhoneTarget`}},onDismiss:{defaultValue:null,description:``,name:`onDismiss`,required:!0,type:{name:`() => void`}},onShare:{defaultValue:null,description:``,name:`onShare`,required:!0,type:{name:`() => void`}}}}}catch{}function G({brandColor:e,linkColor:t,onShare:a}){return h(i,{children:[m(B,{icon:z,iconColor:e,title:`Não foi possível completar a ligação`}),m(c,{}),m(s,{children:h(p,{divider:m(f,{}),children:[m(`p`,{children:`A ligação com o destino falhou — isso pode ter acontecido por um erro no número ou instabilidade na rede. Aguarde alguns minutos e tente de novo clicando no botão abaixo.`}),h(r,{align:`center`,gap:2,children:[m(L,{}),h(`p`,{children:[`Se continuar falhando, uma boa alternativa é `,m(n,{color:t,type:`button`,variant:`link`,onClick:a,children:`compartilhar a campanha`}),`.`]})]})]})})]})}try{G.displayName=`FailedCall`,G.__docgenInfo={description:``,displayName:`FailedCall`,props:{activist:{defaultValue:null,description:``,name:`activist`,required:!0,type:{name:`{ name: string; email: string; phone: string; }`}},brandColor:{defaultValue:null,description:``,name:`brandColor`,required:!0,type:{name:`string`}},guideline:{defaultValue:null,description:``,name:`guideline`,required:!0,type:{name:`string`}},linkColor:{defaultValue:null,description:``,name:`linkColor`,required:!0,type:{name:`string`}},postActionHtml:{defaultValue:null,description:``,name:`postActionHtml`,required:!0,type:{name:`string`}},target:{defaultValue:null,description:``,name:`target`,required:!0,type:{name:`PhoneTarget`}},onDismiss:{defaultValue:null,description:``,name:`onDismiss`,required:!0,type:{name:`() => void`}},onShare:{defaultValue:null,description:``,name:`onShare`,required:!0,type:{name:`() => void`}}}}}catch{}function K({brandColor:e}){return h(i,{children:[m(B,{icon:R,iconColor:e,title:`Estamos te ligando agora!`}),m(s,{children:h(p,{divider:m(f,{}),children:[h(p,{children:[h(`p`,{children:[`Você vai receber uma ligação do nosso número. `,m(`strong`,{children:`Atenda o telefone para continuar.`})]}),m(`p`,{children:`Assim que a chamada for atendida, vamos conectar com a pessoa responsável.`})]}),h(`p`,{children:[`O número pode começar com [XX]. `,m(`strong`,{children:`Fique com o telefone por perto.`})]})]})})]})}try{K.displayName=`InitiatedCall`,K.__docgenInfo={description:``,displayName:`InitiatedCall`,props:{activist:{defaultValue:null,description:``,name:`activist`,required:!0,type:{name:`{ name: string; email: string; phone: string; }`}},brandColor:{defaultValue:null,description:``,name:`brandColor`,required:!0,type:{name:`string`}},guideline:{defaultValue:null,description:``,name:`guideline`,required:!0,type:{name:`string`}},linkColor:{defaultValue:null,description:``,name:`linkColor`,required:!0,type:{name:`string`}},postActionHtml:{defaultValue:null,description:``,name:`postActionHtml`,required:!0,type:{name:`string`}},target:{defaultValue:null,description:``,name:`target`,required:!0,type:{name:`PhoneTarget`}},onDismiss:{defaultValue:null,description:``,name:`onDismiss`,required:!0,type:{name:`() => void`}},onShare:{defaultValue:null,description:``,name:`onShare`,required:!0,type:{name:`() => void`}}}}}catch{}function q({brandColor:e,guideline:t,target:n}){return h(i,{children:[m(B,{icon:le,iconColor:e,title:`Você está em chamada com ${n.name}`}),m(s,{children:h(p,{children:[m(`p`,{children:`Agora é com você! Se quiser, pode usar este exemplo durante a conversa:`}),m(`blockquote`,{children:t}),m(`p`,{children:`Finalize agradecendo e encerre a chamada.`})]})})]})}try{q.displayName=`InProgressCall`,q.__docgenInfo={description:``,displayName:`InProgressCall`,props:{activist:{defaultValue:null,description:``,name:`activist`,required:!0,type:{name:`{ name: string; email: string; phone: string; }`}},brandColor:{defaultValue:null,description:``,name:`brandColor`,required:!0,type:{name:`string`}},guideline:{defaultValue:null,description:``,name:`guideline`,required:!0,type:{name:`string`}},linkColor:{defaultValue:null,description:``,name:`linkColor`,required:!0,type:{name:`string`}},postActionHtml:{defaultValue:null,description:``,name:`postActionHtml`,required:!0,type:{name:`string`}},target:{defaultValue:null,description:``,name:`target`,required:!0,type:{name:`PhoneTarget`}},onDismiss:{defaultValue:null,description:``,name:`onDismiss`,required:!0,type:{name:`() => void`}},onShare:{defaultValue:null,description:``,name:`onShare`,required:!0,type:{name:`() => void`}}}}}catch{}function J({canDismiss:e,children:t,className:n,isOpen:r=!0,onDismiss:i=g}){return h(o,{size:`2xl`,isCentered:!0,closeOnEsc:e,closeOnOverlayClick:!1,isOpen:r,onClose:i,children:[m(d,{}),m(l,{className:n,children:t})]})}try{J.displayName=`Modal`,J.__docgenInfo={description:``,displayName:`Modal`,props:{canDismiss:{defaultValue:null,description:``,name:`canDismiss`,required:!0,type:{name:`boolean`}},className:{defaultValue:null,description:``,name:`className`,required:!0,type:{name:`string`}},isOpen:{defaultValue:{value:`true`},description:``,name:`isOpen`,required:!1,type:{name:`boolean`}},onDismiss:{defaultValue:null,description:``,name:`onDismiss`,required:!1,type:{name:`(() => void)`}}}}}catch{}function Y({brandColor:e,linkColor:t,target:a,onShare:o}){return h(i,{children:[m(B,{icon:z,iconColor:e,title:`A pessoa responsável não atendeu`}),m(c,{}),m(s,{children:h(p,{divider:m(f,{}),children:[h(`p`,{children:[`A chamada foi feita, mas não conseguimos contato com`,` `,a.name,`. Aguarde alguns minutos e tente de novo clicando no botão abaixo.`]}),h(r,{align:`center`,gap:2,children:[m(L,{}),h(`p`,{children:[`Se ninguém atender, uma boa alternativa é `,m(n,{color:t,type:`button`,variant:`link`,onClick:o,children:`compartilhar a campanha`}),`.`]})]})]})})]})}try{Y.displayName=`NoAnswerCall`,Y.__docgenInfo={description:``,displayName:`NoAnswerCall`,props:{activist:{defaultValue:null,description:``,name:`activist`,required:!0,type:{name:`{ name: string; email: string; phone: string; }`}},brandColor:{defaultValue:null,description:``,name:`brandColor`,required:!0,type:{name:`string`}},guideline:{defaultValue:null,description:``,name:`guideline`,required:!0,type:{name:`string`}},linkColor:{defaultValue:null,description:``,name:`linkColor`,required:!0,type:{name:`string`}},postActionHtml:{defaultValue:null,description:``,name:`postActionHtml`,required:!0,type:{name:`string`}},target:{defaultValue:null,description:``,name:`target`,required:!0,type:{name:`PhoneTarget`}},onDismiss:{defaultValue:null,description:``,name:`onDismiss`,required:!0,type:{name:`() => void`}},onShare:{defaultValue:null,description:``,name:`onShare`,required:!0,type:{name:`() => void`}}}}}catch{}function X({backgroundColor:e,onRetry:t}){return m(n,{className:`bonde-phone-call__retry-button`,backgroundColor:e,color:`white`,leftIcon:m(R,{}),type:`button`,variant:`solid`,onClick:t,_hover:{bg:e},children:`Tentar novamente`})}try{X.displayName=`RetryButton`,X.__docgenInfo={description:``,displayName:`RetryButton`,props:{backgroundColor:{defaultValue:null,description:``,name:`backgroundColor`,required:!0,type:{name:`string`}},onRetry:{defaultValue:null,description:``,name:`onRetry`,required:!0,type:{name:`() => void`}}}}}catch{}function Z({brandColor:e,target:t}){return h(i,{children:[m(B,{icon:ae,iconColor:e,title:`Chamando a pessoa responsável`}),m(s,{children:h(p,{children:[m(`p`,{children:`Você atendeu a nossa ligação! Agora estamos tentando falar com ${t.name}.`}),m(`p`,{children:m(`strong`,{children:`Aguarde na linha. Vamos conectar assim que o alvo atender.`})})]})})]})}try{Z.displayName=`RingingCall`,Z.__docgenInfo={description:``,displayName:`RingingCall`,props:{activist:{defaultValue:null,description:``,name:`activist`,required:!0,type:{name:`{ name: string; email: string; phone: string; }`}},brandColor:{defaultValue:null,description:``,name:`brandColor`,required:!0,type:{name:`string`}},guideline:{defaultValue:null,description:``,name:`guideline`,required:!0,type:{name:`string`}},linkColor:{defaultValue:null,description:``,name:`linkColor`,required:!0,type:{name:`string`}},postActionHtml:{defaultValue:null,description:``,name:`postActionHtml`,required:!0,type:{name:`string`}},target:{defaultValue:null,description:``,name:`target`,required:!0,type:{name:`PhoneTarget`}},onDismiss:{defaultValue:null,description:``,name:`onDismiss`,required:!0,type:{name:`() => void`}},onShare:{defaultValue:null,description:``,name:`onShare`,required:!0,type:{name:`() => void`}}}}}catch{}function Q({brandColor:e,postActionHtml:t}){return h(i,{children:[m(B,{icon:se,iconColor:e,title:`Ajude a fortalecer a campanha`}),m(c,{}),m(s,{children:h(p,{children:[m(`p`,{children:`Se a ligação não funcionou, você pode ampliar o impacto compartilhando a campanha com outras pessoas:`}),m(U,{html:t})]})})]})}try{Q.displayName=`ShareCampaign`,Q.__docgenInfo={description:``,displayName:`ShareCampaign`,props:{activist:{defaultValue:null,description:``,name:`activist`,required:!0,type:{name:`{ name: string; email: string; phone: string; }`}},brandColor:{defaultValue:null,description:``,name:`brandColor`,required:!0,type:{name:`string`}},guideline:{defaultValue:null,description:``,name:`guideline`,required:!0,type:{name:`string`}},linkColor:{defaultValue:null,description:``,name:`linkColor`,required:!0,type:{name:`string`}},postActionHtml:{defaultValue:null,description:``,name:`postActionHtml`,required:!0,type:{name:`string`}},target:{defaultValue:null,description:``,name:`target`,required:!0,type:{name:`PhoneTarget`}},onDismiss:{defaultValue:null,description:``,name:`onDismiss`,required:!0,type:{name:`() => void`}},onShare:{defaultValue:null,description:``,name:`onShare`,required:!0,type:{name:`() => void`}}}}}catch{}function ue(e,t){if(t)return Q;switch(e){case`busy`:return V;case`canceled`:return H;case`completed`:return W;case`failed`:return G;case`initiated`:case`queued`:return K;case`in-progress`:return q;case`no-answer`:return Y;case`ringing`:return Z}}function $({action:e=T,activist:t,guideline:n,linkColor:r=`#1D3D90`,mainColor:i=`#A42828`,postActionHtml:a=``,targets:o,widgetId:s=0,onFail:c=g,onFinish:l=g,onSuccess:u=g}){let[d,f]=(0,E.useState)(null),[p,_]=(0,E.useState)(!1),[v,y]=(0,E.useState)(0);(0,E.useEffect)(()=>{d===`completed`&&u()},[u,d]);let S=(0,E.useCallback)(()=>{_(!0),c(d)},[c,_,d]),C=(0,E.useCallback)(()=>{d!==`completed`&&!p&&c(d),l(d),f(null)},[c,l,f,p,d]),w=(0,E.useMemo)(()=>{if(o.length<=1)return o;let e=[...o];for(let t=e.length-1;t>0;t--){let n=Math.floor(Math.random()*(t+1));[e[t],e[n]]=[e[n],e[t]]}return e},[o]),D=w[v%w.length],O=(0,E.useMemo)(()=>{let e=Math.ceil(o.length*1.5);return v<e},[v,o]),k=(0,E.useCallback)(()=>{f(null),y(e=>e+1)},[y,f]),A=(0,E.useMemo)(()=>({activist:t,input:{custom_fields:{status:`queued`,target:D}},widget_id:s}),[t,D,s]);if((0,E.useEffect)(()=>{async function t(){await e(A,f)}t()},[A,e,f]),!d)return null;let j=ue(d,p),M=b(d),N=p||x(d),P=M&&O&&!p;return h(J,{canDismiss:N,className:`bonde-phone-call bonde-phone-call--${d}`,onDismiss:C,children:[m(j,{activist:t,brandColor:i,guideline:n,linkColor:r,postActionHtml:a,target:D,onDismiss:C,onShare:S}),m(ee,{children:P&&m(X,{backgroundColor:i,onRetry:k})})]})}try{$.displayName=`PhoneCall`,$.__docgenInfo={description:``,displayName:`PhoneCall`,props:{action:{defaultValue:{value:`configureBondePhoneCall('http://localhost:8000')`},description:``,name:`action`,required:!1,type:{name:`PhoneCallAction`}},activist:{defaultValue:null,description:``,name:`activist`,required:!0,type:{name:`{ name: string; email: string; phone: string; }`}},guideline:{defaultValue:null,description:``,name:`guideline`,required:!0,type:{name:`string`}},linkColor:{defaultValue:{value:`#1D3D90`},description:``,name:`linkColor`,required:!1,type:{name:`string`}},mainColor:{defaultValue:{value:`#A42828`},description:``,name:`mainColor`,required:!1,type:{name:`string`}},postActionHtml:{defaultValue:{value:``},description:``,name:`postActionHtml`,required:!1,type:{name:`string`}},targets:{defaultValue:null,description:``,name:`targets`,required:!0,type:{name:`PhoneTarget[]`}},widgetId:{defaultValue:{value:`0`},description:``,name:`widgetId`,required:!1,type:{name:`number`}},onFail:{defaultValue:null,description:``,name:`onFail`,required:!1,type:{name:`((state: PhoneCallState) => void)`}},onFinish:{defaultValue:null,description:``,name:`onFinish`,required:!1,type:{name:`((state: PhoneCallState) => void)`}},onSuccess:{defaultValue:null,description:``,name:`onSuccess`,required:!1,type:{name:`(() => void)`}}}}}catch{}export{g as NOOP,$ as PhoneCall,T as defaultPhoneCall};